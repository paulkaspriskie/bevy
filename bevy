#!/bin/sh

DIR_OUTPUT=$HOME/.bevy
FILE_CONFIG=$HOME/.bevyrc
PALETTE_COLOR_GREEN='\033[0;32m'
PALETTE_COLOR_NONE='\033[0m'


util_dir_create() {
  if [ ! -d $1 ]; then
    mkdir -p $1 && echo -e "${PALETTE_COLOR_GREEN}Created Directory: $1${PALETTE_COLOR_NONE}"
  fi
} && util_dir_create $DIR_OUTPUT


util_shell_execute() {
  if [ "$1" = "git" ]; then
    shift
    for i in "$@"; do
      echo git clone "https://github.com/$i.git"
      echo "hello ${i}"
    done
  fi
}


config_array_filter_assign() {
  ARRAY_FILTER_TYPE=$(sed -n -e '/^\[/p' $FILE_CONFIG | sed 's/[][]//g')

  for i in $ARRAY_FILTER_TYPE; do
    case $i in
      "git")
        ARRAY_TYPE_RESULTS_GIT=$(sed -n '/\[git\]/,/^$/{//!p;}' $FILE_CONFIG)
        echo $ARRAY_TYPE_RESULTS_GIT
        ;;
      "curl")
        ARRAY_TYPE_RESULTS_CURL=$(sed -n '/\[curl\]/,/^$/{//!p;}' $FILE_CONFIG)
        echo $ARRAY_TYPE_RESULTS_CURL
        ;;
      *)
        echo "Ooops, something went wrong!"
        ;;
    esac
  done
}


env_process_init() {
  echo "test"
}


config_array_filter_assign
